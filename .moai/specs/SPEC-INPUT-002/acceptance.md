# SPEC-INPUT-002: 인수 기준

## 시나리오 기반 테스트

### Feature: 입력값 검증 강화

#### Scenario: 잘못된 지역코드 검증
**Given** 사용자가 존재하지 않는 지역코드 "99999"를 입력함
**When** 아파트 매매 조회를 요청함
**Then** API 호출 없이 즉시 검증 오류가 반환됨
**And** "유효하지 않은 지역코드입니다. get_region_code로 조회하세요." 메시지가 표시됨

#### Scenario: 날짜 범위 검증
**Given** 사용자가 2005년 12월 "200512"를 입력함
**When** 아파트 전월세 조회를 요청함
**Then** "조회 가능한 기간은 2006년 1월부터입니다." 메시지가 표시됨

#### Scenario: 일일 한도 초과 안내
**Given** API가 에러 코드 22를 반환함
**When** 응답이 처리됨
**Then** "일일 조회 한도를 초과했습니다. 내일 00:00에 초기화됩니다." 메시지가 표시됨

#### Scenario: 올바른 입력값
**Given** 사용자가 유효한 지역코드 "41195"와 "202512"를 입력함
**When** 조회를 요청함
**Then** 정상적으로 API 호출이 수행됨

## 엣지 케이스 테스트

### Edge Case 1: 빈 문자열 입력
**Given** 사용자가 빈 문자열을 입력함
**Then** "입력값이 비어있습니다." 메시지가 표시됨

### Edge Case 2: SQL Injection 시도
**Given** 사용자가 지역코드에 "41195; DROP TABLE--"를 입력함
**Then** 검증에 실패하고 SQL Injection이 방지됨

### Edge Case 3: 미래 날짜 입력
**Given** 사용자가 현재 날짜보다 미래의 날짜를 입력함
**Then** "미래 날짜는 조회할 수 없습니다." 메시지가 표시됨

## 성능 기준

| 항목 | 기준 | 측정 방법 |
|------|------|----------|
| 검증 응답 시간 | 10ms 이내 | 벤치마크 |
| 메모리 증가 | 5MB 이내 | 메모리 프로파일러 |

## 품질 기준 (TRUST 5)

| 항목 | 기준 |
|------|------|
| Tested | 신규 코드 85%+ 커버리지 |
| Readable | 명확한 함수/변수명, 영문 주석 |
| Unified | ruff formatting 통과 |
| Secured | 입력값 sanitize 확인 |
| Trackable | Git 커밋 메시지 포맷 준수 |
